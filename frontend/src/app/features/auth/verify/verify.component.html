<!-- verify.component.html -->
<div class="login-wrapper">
    <div class="login-card shadow">
      <div class="text-center mb-4">
        <i class="bi bi-envelope-check display-3 text-primary"></i>
        <h2 class="h4 mt-2 fw-semibold">Email Verification</h2>
        <p class="text-muted small mb-0">Enter the 6-digit code sent to <strong>{{ email }}</strong></p>
      </div>
  
      <form *ngIf="verifyForm" [formGroup]="verifyForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="mb-3">
          <label for="code" class="form-label">Verification Code</label>
          <input type="text" id="code" class="form-control"
            formControlName="code"
            [ngClass]="{ 'is-invalid': submitted && f['code'].errors }"
            placeholder="123456" />
          <div *ngIf="submitted && f['code'].errors" class="invalid-feedback">
            <span *ngIf="f['code'].errors['required']">Code is required</span>
            <span *ngIf="f['code'].errors['pattern']">Must be 6 digits</span>
          </div>
        </div>
  
        <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
  
        <div class="d-grid mb-2">
          <button [disabled]="loading" class="btn btn-primary">
            <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
            Verify
          </button>
        </div>
  
        <div class="text-center">
          <button type="button" class="btn btn-link p-0 small" (click)="resendCode()">Resend Code</button>
        </div>
      </form>
    </div>
  </div>  